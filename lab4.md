
# การทดลองที่ 4 เรื่อง การเขียนโปรแกรมinputสัญญาณดิจิทัล
## วัตถุประสงค์
1.เพื่อให้ผู้ศึกษาสามารถเขียนโปรแกรมinputสัญญาณดิจิทัล

2.เพื่อให้ผู้ศึกษาสามารถนำความรู้ไปประยุกต์ใช้ได้

## อุปกรณ์ที่ใช้
1.อุปกรณ์ไมโครคอนโทรเลอร์

2.CPU

3.อุปกรณ์ซีเรียลserial ใช้ต่อไมโครคอนโทรเลอร์

4.อแดปเตอร์ที่ต่อสายพอร์ท 0(สีขาว) กับ 2 (สีเหลือง)

5.หลอดไฟ LED

6.เซนเซอร์แสง

# ศึกษาข้อมูลเบื้องต้น 
1.ความรู้เบื้องต้น platformio : https://platformio.org/

2.ตัวอย่างการรันโปรแกรม : https://youtu.be/nFqoZT26U5k

3.ความรู้การติดตั้ง iotset1 : https://youtu.be/9aF0upI9Gic

# วิธีการทำการทดลอง
1.นำอแดปเตอร์ต่อกับ serial และ LED

2.นำไมโครคอนโทรเลอร์ไปต่อเข้ากับพอร์ท
![S__3031158](https://user-images.githubusercontent.com/80879549/112389822-efb83580-8d27-11eb-9121-1c3a690c6aca.jpg)

3. เปิดโปรแกรม command prompt ( CMD ) เพื่อใช้ในการเขียนโปรแกรม
 
 ![S__3031141](https://user-images.githubusercontent.com/80879549/112360507-fa150800-8d04-11eb-8c65-759c7a793f66.jpg)

 4.รันโปรแกรมจากโฟลเดอร์ pattani ด้วยการพิมพ์ cd pattani
 
 ![S__3031142](https://user-images.githubusercontent.com/80879549/112360559-09945100-8d05-11eb-9b23-7b3a6ae71765.jpg)

 5.พิมพ์ cd 04_Input-Port แล้ว enter เพื่อทำการรันตัวอย่างที่ 1 จากนั้น พิมพ์ vi src/main.cpp เพื่อใช้ในแสดงโค้ดโปรแกรม
![S__3031159](https://user-images.githubusercontent.com/80879549/112389840-f5ae1680-8d27-11eb-9eee-95665f645cf8.jpg)

 6.พิมพ์ pio run -t upload เพื่ออัปโหลดโปรแกรมเข้าสู่ไมโทคอลโทรเลอร์ รอจนขึ้น succes
![S__3031160](https://user-images.githubusercontent.com/80879549/112389847-f8a90700-8d27-11eb-9ab9-8380bbbd20bb.jpg)


 8.รีเซตไมโครคอนโทรเลอร์
 
 9.พิมพ์ pio device monitor เพื่อใช้ในการรันเพื่อดูผลจากการทดลอง
 10.เมื่อนำสายไฟเส้นสีขาว(พอร์ท0)เสียบกับเส้นสีดำ(0V low)
![S__3031161](https://user-images.githubusercontent.com/80879549/112389874-01014200-8d28-11eb-958c-788f307a3c90.jpg)

 11.เมื่อนำสายไฟเส้นสีขาว(พอร์ท0)เสียบกับเส้นแดง(5V hight)
![S__3031162](https://user-images.githubusercontent.com/80879549/112389886-065e8c80-8d28-11eb-8491-f1497b0a6f0f.jpg)

 12.กดปุ่มสีดำ(เป็น 0 ไฟจะติด)
![S__3031163](https://user-images.githubusercontent.com/80879549/112389904-0ced0400-8d28-11eb-945a-31521429aff3.jpg)

 14.นำสายไฟเส้นสีขาวไปต่อกับเซนเซอร์
 
 15.เปิดหน้าเซนเซอร์ กับ เอานิ้วไปปิดหน้าเซนเซอร์ สังเกตหลอดไฟ LED
 ![S__3031164](https://user-images.githubusercontent.com/80879549/112390070-50e00900-8d28-11eb-8c7e-fbac84b2cf5c.jpg)

![S__3031166](https://user-images.githubusercontent.com/80879549/112390093-54739000-8d28-11eb-8b80-c301f19c3714.jpg)



# การบันทึกผลการทดลอง
 1.ผลการทดลองเมื่อพิมพ์ pio device monitorทำให้เกิดการรัน ทำให้เกิด read 1 หมายถึง input มีค่า 1 ส่งผล low ที่พอร์ท 2 ส่งผลให้ไฟดับ
  
  1.1 เมื่อนำเส้นสีขาว่อกับเส้นสีดำ พบว่าค่า input = 0 ซึ่งเป็น hight ไฟจึงติด
  
  1.2 เมื่อนำเส้นสีขาวต่อกับเส้นสีแดง พบว่าค่า input = 1 ซึ่งเป็น low ไฟจึงดับ 
  
  1.3 เมื่อกดปุ่มสีดำ จะส่งผลให้ input คือ 0 ซึ่งเป็น high ไฟจึงติด
  
  1.4 เมื่อปล่อยปุ่มสีดำ จะส่งผลให้ input คือ 1 ซึ่งเป็น low ไฟจึงดับ  
 
 2.เมื่อต่อไมโครคอนโทรเลอร์กับเซนเซอร์แสง พบว่า เมื่อปล่อยปกติจะสีแสง แต่เมื่อนำนิ้วมาบังแสง จะส่งผลให้ไฟดับ
 
 # อภิปรายผลการทดลอง
1.จากการทดลองพบว่า เมื่อมีการติดตั้งโปรแกรม04_Input-Port เข้าไปในไมโครคอนโทรเลอร์ เกิดคำสั่งให้มีการแสดงread 1 สัญญาณอินพุทจากพอร์ท 0 คือตัวควบคุมให้ไฟเปิดหรือปิดถ้าค่าเป็น 1 ไฟจะดับ แต่ถ้า็น 0 ไฟจะติด ซึ่งดูไฟที่พอร์ท 2

2.จากการนำตัวไมโครคอนโทรเลอร์ต่อกับตัวเซนเซอร์พบว่าเมื่อนำนิ้วมาบังแสงจะทำห้เกิดแรงต้านทานสูงส่งผลให้ไฟดับ ซึ่งเมื่อเราปล่อยนิ้วทำให้แรงต้านมีค่าลดลงไฟของLED จึงติด
 
 # คำถามหลังการทดลอง
  คำถาม หลังจากทดลองในตอนที่4 สามารถนำไปประยุกต์ใช้งานได้ในชีวิตได้อย่างไร
  
  คำตอบ สามารถนำไปเพื่อตั้งระบบเซนเซอร์ของหลอดไฟต่าง เมื่อแสงอาทิตย์ลดลงทำให้มืดส่งผลไฟก็จะติดเองอัตโนมัติ






